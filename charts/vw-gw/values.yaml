replicaCount: 1

image:
  repository: vw-gw
  tag: "0.1.0"
  pullPolicy: IfNotPresent

service:
  type: LoadBalancer
  port: 8004
  metallbAddressPool: "default"
  srtPortStart: 9000
  srtPortEnd: 9100

resources: {}

env:
  # Restrict at runtime via NetworkPolicy to Source Zone IP ranges as needed.
  VW_GW_LOG_TAIL_LINES: "200"

networkPolicy:
  enabled: true
  # Allow ingress ONLY from mgmt-api by label selector (expected in vw-control)
  fromMgmtApiSelector:
    namespaceSelector:
      matchLabels:
        kubernetes.io/metadata.name: vw-control  # Override via controlPlaneNamespace
    podSelector:
      matchLabels:
        app.kubernetes.io/name: vw-mgmt-api
  # Egress to Source Zone CIDRs (set per site). Example:
  # toSourceCidrs:
  #   - "10.10.0.0/16"
  toSourceCidrs: []

# Vault Agent sidecar injection
vault:
  enabled: true
  role: ""            # Override Vault K8s auth role (default: "gateway")
  pkiPath: "pki_int/issue/server-cert"

# Cross-namespace references
controlPlaneNamespace: "vw-control"
